# PlovTandur NFT Loyalty System

–°–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞—Ñ–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º NFT-—Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –±–ª–æ–∫—á–µ–π–Ω–µ TON.

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

–ö–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç NFT-—Ç–æ–∫–µ–Ω—ã –∑–∞ –ø–æ–∫—É–ø–∫–∏ –Ω–∞ —Å—É–º–º—É –æ—Ç 200‚Ç™. –¢–æ–∫–µ–Ω—ã –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ TON-–∫–æ—à–µ–ª—å–∫–µ, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–ª–∏ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–∞—Ñ–µ.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:
- **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–æ—Ç** (@plovtandursamsa) - –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ê–¥–º–∏–Ω—Å–∫–∏–π –±–æ—Ç** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏ –∏ —Ä–∞—Å—Å—ã–ª–∫–∞–º–∏
- **Firebase Firestore** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **TON Blockchain** - –≤—ã–ø—É—Å–∫ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ NFT (Testnet)

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- .NET 10.0 SDK
- Firebase –ø—Ä–æ–µ–∫—Ç —Å Firestore
- TON –∫–æ—à–µ–ª–µ–∫ –¥–ª—è –º–∏–Ω—Ç–∏–Ω–≥–∞ NFT
- –î–≤–∞ Telegram –±–æ—Ç–∞ (—Ç–æ–∫–µ–Ω—ã –æ—Ç @BotFather)

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd PlovTandurBot
dotnet restore
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ [Firebase Console](https://console.firebase.google.com/)
2. –í–∫–ª—é—á–∏—Ç–µ Firestore Database
3. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Service Account Key)
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `firebase_key.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –æ–±–æ–∏—Ö –±–æ—Ç–æ–≤
3. –û–±–Ω–æ–≤–∏—Ç–µ `appsettings.json`

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TON

1. –°–æ–∑–¥–∞–π—Ç–µ TON –∫–æ—à–µ–ª–µ–∫ (Testnet)
2. –ü–æ–ª—É—á–∏—Ç–µ –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫—É—é —Ñ—Ä–∞–∑—É (24 —Å–ª–æ–≤–∞)
3. –û–±–Ω–æ–≤–∏—Ç–µ `appsettings.json`

### 5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è appsettings.json

```json
{
  "BotConfiguration": {
    "ClientBot": {
      "Token": "–í–ê–®_–¢–û–ö–ï–ù_–ö–õ–ò–ï–ù–¢–°–ö–û–ì–û_–ë–û–¢–ê",
      "Username": "plovtandursamsa"
    },
    "AdminBot": {
      "Token": "–í–ê–®_–¢–û–ö–ï–ù_–ê–î–ú–ò–ù–°–ö–û–ì–û_–ë–û–¢–ê",
      "Username": "plovtandur_admin_bot",
      "AllowedAdminIds": [123456789]  // Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
    }
  },
  "Firebase": {
    "ProjectId": "–≤–∞—à-firebase-project-id",
    "CredentialsPath": "firebase_key.json"
  },
  "Ton": {
    "Network": "testnet",
    "Endpoint": "https://testnet.toncenter.com/api/v2/jsonRPC",
    "BotMnemonic": "–≤–∞—à–∏ 24 —Å–ª–æ–≤–∞ –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–æ–π —Ñ—Ä–∞–∑—ã",
    "CafeWalletAddress": "–∞–¥—Ä–µ—Å_–∫–æ—à–µ–ª—å–∫–∞_–∫–∞—Ñ–µ",
    "NftCollectionAddress": "–∞–¥—Ä–µ—Å_NFT_–∫–æ–ª–ª–µ–∫—Ü–∏–∏"
  }
}
```

## üöÄ –ó–∞–ø—É—Å–∫

```bash
dotnet run
```

–û–±–∞ –±–æ—Ç–∞ –∑–∞–ø—É—Å—Ç—è—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–æ—Ç

**–ö–æ–º–∞–Ω–¥—ã:**
- `/start` - –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/help` - —Å–ø—Ä–∞–≤–∫–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
1. –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–º–æ–∫–æ–¥ –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –±–æ—Ç–∞ –∏ –≤–≤–æ–¥–∏—Ç –ø—Ä–æ–º–æ–∫–æ–¥
3. –í–≤–æ–¥–∏—Ç –∞–¥—Ä–µ—Å TON –∫–æ—à–µ–ª—å–∫–∞
4. –ü–æ–ª—É—á–∞–µ—Ç NFT –Ω–∞ —Å–≤–æ–π –∫–æ—à–µ–ª–µ–∫
5. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç NFT –Ω–∞ –∫–æ—à–µ–ª–µ–∫ –∫–∞—Ñ–µ –¥–ª—è –æ–±–º–µ–Ω–∞ –Ω–∞ —Ç–æ–≤–∞—Ä

### –ê–¥–º–∏–Ω—Å–∫–∏–π –±–æ—Ç

**–ö–æ–º–∞–Ω–¥—ã:**
- `/start` –∏–ª–∏ `/menu` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- üìä –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- üì¢ –†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (–≤—Å–µ–º/VIP/–æ–±—ã—á–Ω—ã–º)
- üìú –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
PlovTandurBot/
‚îú‚îÄ‚îÄ Configuration/          # –ö–ª–∞—Å—Å—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ Models/                 # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ UserProfile.cs
‚îÇ   ‚îú‚îÄ‚îÄ PromoCode.cs
‚îÇ   ‚îú‚îÄ‚îÄ NftToken.cs
‚îÇ   ‚îî‚îÄ‚îÄ BroadcastMessage.cs
‚îú‚îÄ‚îÄ Repositories/           # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Firebase
‚îÇ   ‚îú‚îÄ‚îÄ UserRepository.cs
‚îÇ   ‚îú‚îÄ‚îÄ PromoCodeRepository.cs
‚îÇ   ‚îú‚îÄ‚îÄ NftRepository.cs
‚îÇ   ‚îî‚îÄ‚îÄ BroadcastRepository.cs
‚îú‚îÄ‚îÄ Services/               # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ TonBlockchainService.cs
‚îÇ   ‚îú‚îÄ‚îÄ NftService.cs
‚îÇ   ‚îú‚îÄ‚îÄ ClientBotService.cs
‚îÇ   ‚îú‚îÄ‚îÄ AdminBotService.cs
‚îÇ   ‚îî‚îÄ‚îÄ BroadcastService.cs
‚îú‚îÄ‚îÄ Helpers/                # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ ValidationHelper.cs
‚îÇ   ‚îú‚îÄ‚îÄ KeyboardBuilder.cs
‚îÇ   ‚îî‚îÄ‚îÄ MessageTemplates.cs
‚îú‚îÄ‚îÄ Program.cs              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ appsettings.json        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ firebase_key.json       # Firebase credentials
```

## üìä –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### UserProfile
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- –¢–∏–ø: Regular / VIP
- TON –∫–æ—à–µ–ª–µ–∫
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞

### PromoCode
- –°—Ç–∞—Ç—É—Å—ã: New ‚Üí Activated ‚Üí Used
- –°–≤—è–∑—å —Å –∑–∞–∫–∞–∑–æ–º
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ

### NftToken
- –ê–¥—Ä–µ—Å NFT –≤ –±–ª–æ–∫—á–µ–π–Ω–µ
- –í–ª–∞–¥–µ–ª–µ—Ü
- –°—Ç–∞—Ç—É—Å—ã: Minted ‚Üí Active ‚Üí Redeemed
- –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### BroadcastMessage
- –¢–µ–∫—Å—Ç —Ä–∞—Å—Å—ã–ª–∫–∏
- –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

1. –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å –≤ `Models/`
2. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ `Repositories/`
3. –î–æ–±–∞–≤—å—Ç–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ `Services/`
4. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (`Program.cs`)

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
- –ö–æ–Ω—Å–æ–ª—å (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
- –§–∞–π–ª—ã –≤ `logs/bot-YYYY-MM-DD.log`

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (MVP)

‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å DI
- –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–æ—Ç —Å –º–∞—à–∏–Ω–æ–π —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –ê–¥–º–∏–Ω—Å–∫–∏–π –±–æ—Ç —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Firebase
- –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è TON
- –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—ã–ª–æ–∫

‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏:**
- –†–µ–∞–ª—å–Ω—ã–π –º–∏–Ω—Ç–∏–Ω–≥ NFT (—Å–µ–π—á–∞—Å —Å–∏–º—É–ª—è—Ü–∏—è)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ö–æ–¥—è—â–∏—Ö NFT-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Verifone API
- –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç NFT –∫–æ–ª–ª–µ–∫—Ü–∏–∏ TEP-62

### –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Mainnet

–î–ª—è —Ä–∞–±–æ—Ç—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:
1. –ò–∑–º–µ–Ω–∏—Ç–µ `"Network": "mainnet"` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. –û–±–Ω–æ–≤–∏—Ç–µ `Endpoint` –Ω–∞ mainnet URL
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ mainnet –∫–æ—à–µ–ª–µ–∫
4. –†–∞–∑–≤–µ—Ä—Ç–∏—Ç–µ NFT –∫–æ–ª–ª–µ–∫—Ü–∏—é –≤ mainnet

## üõ†Ô∏è TODO

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –º–∏–Ω—Ç–∏–Ω–≥ NFT –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É TEP-62
- [ ] –î–æ–±–∞–≤–∏—Ç—å NftMonitorService –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Ö–æ–¥—è—â–∏—Ö NFT
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Verifone webhook
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç NFT –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã (Unit + Integration)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏–≤—Ä–∏—Ç–∞ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤–∏—Ç—Ä–∏–Ω–∞ —Ç–æ–≤–∞—Ä–æ–≤)

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary - –í–∏–Ω—Ç–æ—Ä—É–º ¬© 2024
